<!doctype html>
<html lang="en">

<head>
    <title>奶茶线上点单平台</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!--vue-->
    <script src="js/vue.js"></script>
    <!--axios-->
    <script src="js/axios.min.js"></script>
    <!--vue-router-->
    <script src="js/vue-router.js"></script>
</head>

<body>
    <div id="app" class="container" style="background-color: rgb(241, 248, 248);">
        <content-all></content-all>
    </div>

    <script>
        // 定义父组件
        Vue.component('content-all', {
            data() {
                return {
                    phone: '',
                    regExp: /^1([38]\d|5[0-35-9]|7[3678])\d{8}$/,
                    flag: false,
                    totaldata: undefined
                }
            },
            methods: {
                // 获得手机号码
                getPhone: function () {
                    let button = document.querySelector("#tijiao");
                    if (!this.regExp.test(this.phone)) {
                        this.flag = true;
                    } else {
                        this.flag = false;
                        button.setAttribute('data-dismiss', 'modal');
                        let cusPhone = this.phone;
                    }
                },
            },
            computed: {

            },
            template: `
            <div>
            <!--导航栏-->
            <div class="mt-3">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <a class="navbar-brand" href="#"><img src="image/奶茶 (6).png"
                            class="img-fluid "
                            alt=""></a>
                    <button class="navbar-toggler d-lg-none" type="button" data-toggle="collapse"
                        data-target="#collapsibleNavId" aria-controls="collapsibleNavId" aria-expanded="false"
                        aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="collapsibleNavId">
                        <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                            <li class="nav-item active">
                                <a class="nav-link text-info font-weight-bolder" href="#">奶茶点单平台 <span
                                        class="sr-only">(current)</span></a>
                            </li>
                            <li class="nav-item ml-4">
                                <a class="nav-link font-weight-bolder" href="#">首页</a>
                            </li>
                            <li class="nav-item dropdown ml-4">
                                <a class="nav-link dropdown-toggle font-weight-bold" href="#" id="dropdownId"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">产品介绍</a>
                                <div class="dropdown-menu" aria-labelledby="dropdownId">
                                    <a class="dropdown-item font-weight-bolder" href="#">产品简介</a>
                                    <a class="dropdown-item font-weight-bolder" href="#">产品促销</a>
                                </div>
                            </li>
                        </ul>
                        
                        <order :phonenum = "phone" :totalmoney = "totaldata"></order>
                        <car :phonenum = "phone"></car>

                        <!--顾客信息---模态框-->
                        <a name="" id="customerphone" class="btn btn-light ml-2 text-danger" href="#" role="button"
                            data-toggle="modal" data-target="#phone"><img src="image/人物-头像.png"
                                class="img-fluid mr-3 "
                                alt="">{{phone}}</a>
                        <!--模态框-->
                        <div class="modal fade" id="phone" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-scrollable" role="document">
                                <div class="modal-content">
                                    <div class="modal-body">
                                        <div v-if="flag" class="alert alert-danger" role="alert">
                                            麻烦输入正确的手机号码，可以嘛！
                                        </div>
                                        <div class="form-group">
                                            <label for="">请输入手机号码</label>
                                            <input required :pattern="regExp" type="telephone" v-model="phone"
                                                class="form-control" value="" name="phone" id="phone"
                                                aria-describedby="helpId" placeholder="">
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                                        <button id="tijiao" type="button" class="btn btn-primary"
                                            @click="getPhone">提交</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>
            </div>

            <!--轮播图-->
            <div class="row mt-3">
                <div id="carouselId" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-target="#carouselId" data-slide-to="0" class="active"></li>
                        <li data-target="#carouselId" data-slide-to="1"></li>
                    </ol>
                    <div class="carousel-inner" role="listbox">

                        <div class="carousel-item active">
                            <img src="image/轮播3.png" class="d-block w-100" alt="Third slide">
                        </div>
                        <div class="carousel-item">
                            <img src="image/轮播4.png" class="d-block w-100" alt="Four slide">
                        </div>
                    </div>
                    <a class="carousel-control-prev" href="#carouselId" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselId" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>

            <!--奶茶分类与详情页面-->
            <div class="mt-3">
                <!--导航栏-->
                <ul class="nav nav-tabs mt-3" id="myTab" role="tablist">
                    <li class="nav-item ml-3">
                        <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab"
                            aria-controls="home" aria-selected="true"><img src="image/奶茶 (1).png"
                                class=" mr-2 img-fluid "
                                alt="">
                            <router-link to="/goods/chuncha" >醇茶</router-link>
                        </a>
                    </li>
                    <li class="nav-item ml-3">
                        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab"
                            aria-controls="profile" aria-selected="false"><img src="image/奶茶 (3).png"
                                class=" mr-2 img-fluid "
                                alt="">
                            <router-link to="/goods/naicha">奶茶</router-link>
                        </a>
                    </li>
                    <li class="nav-item ml-3">
                        <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab"
                            aria-controls="contact" aria-selected="false"><img src="image/奶茶 (5).png"
                                class=" mr-2 img-fluid "
                                alt="">
                            <router-link to="/goods/natie">拿铁</router-link>
                        </a>
                    </li>
                    <li class="nav-item ml-3">
                        <a class="nav-link" id="content-tab" data-toggle="tab" href="#contact" role="tab"
                            aria-controls="contact" aria-selected="false"><img src="image/奶茶 (4).png"
                                class=" mr-2 img-fluid "
                                alt="">
                            <router-link to="/goods/guozhi">果汁</router-link>
                        </a>
                    </li>
                </ul>

                <!--商品详情-->
                <div class="tab-content mt-3" id="myTabContent">
                    <!--醇茶-->
                    <div class="tab-pane fade show active border" id="chuncha" role="tabpanel"
                        aria-labelledby="home-tab">
                        <router-view :phonenum="phone"></router-view>
                    </div>
                    <!--奶茶-->
                    <div class="tab-pane fade" id="naicha" role="tabpanel" aria-labelledby="profile-tab">
                    </div>
                    <!--拿铁-->
                    <div class="tab-pane fade" id="natie" role="tabpanel" aria-labelledby="contact-tab">
                    </div>
                    <!--果汁-->
                    <div class="tab-pane fade" id="guozhi" role="tabpanel" aria-labelledby="content-tab">
                    </div>
                </div>
            </div>
            <hr>

            <!--footer-->
            <footer style="height:50px;">
                <p class="border border-info mt-5" style=" background-color: rgb(191, 181, 238); text-align: center;">
                    Copyright &copy;2019.12.18 by 第二小组 鄢成 包剑 易志 龚利
                </p>
            </footer>
        </div>
            `,
        });

        // 定义订单组件
        const order = Vue.component('order', {
            props: ['phonenum', 'totalmoney'],
            data() {
                return {
                    order: [],
                    flag: false,
                    orderitem: [],
                    orderId: undefined,

                }
            },
            template: `
            <!--订单选项-->
            <div>
            <a @click="getOrder" name="" id="myorder" class="btn btn-light ml-4" href="#myorder" role="button" data-toggle="modal"
                data-target="#ordermodal">
                <img src="image/我的订单.png" class=" mr-3 img-fluid" alt="">
                查看订单
            </a>
            <div class="modal fade" id="ordermodal" tabindex="-1" role="dialog"
                            aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel">我的订单</h5>
                                    </div>
                                    <div class="modal-body">
                                    <!--存放每个历史订单--表格-->
                                    <table class="table table-hover">
                                        <thead>
                                            <tr class="text-center">
                                                <th>订单编号</th>
                                                <th>交易金额</th>
                                                <th>订单时间</th>
                                                <th>订单状态</th>
                                                <th>操作</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr class="text-center" v-for="(item, index) in order" :key="index">
                                                <td scope="row">{{item.orderId}}</td>
                                                <td>￥{{item.totalPrice}}</td>
                                                <td>{{item.orderTime}}</td>
                                                <td>{{item.orderStatus}}</td>
                                                <td>
                                                    <button @click="getorderitem(item.orderId)" type="button" class="btn btn-outline-info btn-sm">查看详细</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <hr>
                                    <hr>
                                    <div v-if="flag">
                                        <div class="modal-header">
                                        <h5 class="modal-title">订单{{this.orderId}}详情</h5>
                                        </div>

                                        <div class="modal-body">
                                        <table class="table table-hover">
                                            <thead>
                                            <tr class="text-center">
                                                    <th>编号</th>
                                                    <th>商品名称</th>
                                                    <th>配料</th>
                                                    <th>糖量</th>
                                                    <th>规格</th>
                                                    <th>温度</th>
                                                    <th>数量</th>
                                                    <th>价格</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="text-center" v-for="(item, index) in orderitem" :key="index">
                                                    <td>{{index}}</td>
                                                    <td>{{item.goodsName}}</td>
                                                    <td>{{item.others}}</td>
                                                    <td>{{item.suger}}</td>
                                                    <td>{{item.size}}</td>
                                                    <td>{{item.temp}}</td>
                                                    <td>{{item.goodsNum}}</td>
                                                    <td>{{item.goodsNum*item.itemPrice}}</td>
                                                </tr>
                                          
                                            </tbody>
                                        
                                        </table>
                                        </div>
                                        <button @click="close()" type="button" class="btn btn-primary btn-lg btn-block">关闭</button>
                                    </div>

                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                            data-dismiss="modal">关闭</button>
                                    </div>
                                </div>
                            </div>
            </div>
        </div>
            `,
            methods: {
                getOrder: function () {
                    let phone = this.phonenum;
                    axios.get(`/orders/${phone}`)
                        .then(res => {
                            //console.log(res.data);
                            this.order = res.data;
                        })
                        .catch(err => {
                            //console.error(err);
                        })

                },
                getorderitem: function (n) {
                    let orderId = n;
                    this.orderId = orderId;
                    axios.get(`/orderItems/select/${orderId}`)
                        .then(res => {
                           // console.log(res);
                            this.orderitem = res.data;
                            this.flag = true;
                        })
                        .catch(err => {
                            //console.error(err);
                        })
                },
                close: function () {
                    this.orderId = undefined;
                    this.flag = false;
                }
            },
        })

        // 定义购物车组件
        const car = Vue.component('car', {
            props: ['phonenum'],
            data() {
                return {
                    goods: [],
                    totalmoney: undefined,
                    weixin: false,
                    zhifubao: false,
                    flagbtn1: false,
                    flagbtn2: false,
                }
            },
            template: `
            <!--购物车选项-->
            <div>
            <a name="" id="shoppingcar" class="btn btn-light ml-4" href="" role="button" data-toggle="modal"
               @click="getCarGoods">
                <img src="image/购物车.png" class=" mr-3 img-fluid" alt="">
                 购物车
            </a>
                    <div class="modal fade" id="carinformation" tabindex="-1" role="dialog"
                        aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">购物车商品</h5>
                                </div>
                                <div class="modal-body">
                                    <!--存放每个订单项--表格-->
                                    <table class="table table-hover">
                                        <thead>
                                            <tr class="text-center">
                                                <th>编号</th>
                                                <th>商品名</th>
                                                <th>加料</th>
                                                <th>规格</th>
                                                <th>糖量</th>
                                                <th>温度</th>
                                                <th>数量</th>
                                                <th>价格</th>
                                                <th>操作</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr v-for="(item, index) in goods" :key="index">
                                                <td scope="row">{{index}}</td>
                                                <td>{{item.goodsName}}</td>
                                                <td>{{item.others}}</td>
                                                <td>{{item.size}}</td>
                                                <td>{{item.suger}}</td>
                                                <td>{{item.temp}}</td> 
                                                <td>
                                                    <div class="row">
                                                        <div col-4>
                                                            <button @click="add(index)" type="button" class="btn btn-outline-success btn-sm">+</button>
                                                        </div>
                                                        <div col-4>
                                                            {{item.number}}
                                                        </div>
                                                        <div col-4>
                                                            <button @click="reduce(index)" type="button" class="btn btn-outline-danger btn-sm" :disabled="item.number === 1">-</button>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>￥{{item.price * item.number}}</td>
                                                <td>
                                                    <button @click="remove(index)" type="button" class="btn btn-outline-primary btn-sm">删除</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <hr>
                                    <h4>总计:<span class="text-warning">￥{{total}}</span></h4>
                                    <hr>
                                    <hr>
                                    <div class="row">
                                        <div class="col-4"></div>
                                        <div class="col-4">
                                            <img v-if="weixin" src="image/微信.png" class="ml-3 img-fluid" alt="">
                                            <img v-if="zhifubao" src="image/支付宝.jpg" class="ml-3 img-fluid" alt="">
                                        </div>
                                        <div v-if="flagbtn1" class="col-4">
                                            <button @click="pay1()" type="button" class="btn btn-outline-success mr-3">微信支付</button>
                                            <button @click="pay2()" type="button" class="btn btn-outline-primary">支付宝支付</button>
                                        </div>
                                        <div v-if="flagbtn2" class="col-4">
                                            <button id="paybtn" @click="pay3()" type="button" class="btn btn-outline-success mr-3 float-right">确认支付</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer" >
                                    <button @click="huifu" type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                                    <button @click="pay" type="button" class="btn btn-primary">选择付款方式</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            `,
            methods: {
                // 加载购物车中商品
                getCarGoods: function () {
                    this.huifu();
                    let phone = this.phonenum;
                    // 获取购物车标签
                    let btn = document.querySelector("#shoppingcar");
                    axios.get(`/cartitem/${phone}`)
                        .then(res => {
                            //console.log(res.data);
                            this.goods = res.data;
                        })
                        .catch(err => {
                            //console.error(err);
                        })
                    btn.setAttribute('data-target', '#carinformation');
                },
                // 商品数量加1
                add: function (n) {
                    // 商品数量加一
                    this.goods[n].number++;
                    // 获得购物车中商品项编号
                    let id = this.goods[n].cartItemId;
                    // 向数据库更新商品的数量和价格
                    axios.put(`/cartitem/${id}`, {
                            cartItemId: id,
                            phone: this.phonenum,
                            goodsId: this.goods[n].goodsId,
                            goodsName: this.goods[n].goodsName,
                            others: this.goods[n].others,
                            size: this.goods[n].size,
                            temp: this.goods[n].temp,
                            suger: this.goods[n].suger,
                            isPay: 0,
                            number: this.goods[n].number,
                            price: this.goods[n].price,
                        })
                        .then(res => {
                            //console.log(res);
                        })
                        .catch(err => {
                            //console.error(err);
                        })

                },
                // 商品数量减1
                reduce: function (n) {
                    // 获得购物车中商品项编号
                    let id = this.goods[n].cartItemId;
                    // 数量最小必须为1，不能为0
                    if (this.goods[n].number === 1) {
                        return;
                    } else {
                        this.goods[n].number--;
                        // 向数据库更新商品的数量和价格
                        axios.put(`/cartitem/${id}`, {
                                cartItemId: id,
                                phone: this.phonenum,
                                goodsId: this.goods[n].goodsId,
                                goodsName: this.goods[n].goodsName,
                                others: this.goods[n].others,
                                size: this.goods[n].size,
                                temp: this.goods[n].temp,
                                suger: this.goods[n].suger,
                                isPay: 0,
                                number: this.goods[n].number,
                                price: this.goods[n].price,
                            })
                            .then(res => {
                                //console.log(res);
                            })
                            .catch(err => {
                               // console.error(err);
                            })
                    }

                },
                remove: function (n) {
                    // 通过商品项的编号进行删除操作
                    let id = this.goods[n].cartItemId;
                    let phone = this.phonenum;
                    axios.delete(`/cartitem/${id}`)
                        .then(res => {
                            console.log(res)
                            // 删除成功后进行查询操作
                            axios.get(`/cartitem/${phone}`)
                                .then(res => {
                                   // console.log(res.data);
                                    this.goods = res.data;
                                })
                                .catch(err => {
                                   // console.error(err);
                                })
                        })
                        .catch(err => {
                            //console.error(err);
                        })
                },
                pay: function () {
                    this.flagbtn1 = true;
                },
                // 微信支付
                pay1: function () {
                    this.weixin = true;
                    this.zhifubao = false;
                    this.flagbtn1 = false;
                    this.flagbtn2 = true;
                },
                // 支付宝支付
                pay2: function () {
                    this.zhifubao = true;
                    this.weixin = false;
                    this.flagbtn1 = false;
                    this.flagbtn2 = true;
                },
                pay3: function () {
                    // 生成订单数据---向订单表中插入数据
                    let payButton = document.querySelector("#paybtn");
                    let phone = this.phonenum;
                    axios.post('/orders', {
                            totalPrice: this.totalmoney,
                            phone: phone,
                        })
                        .then(res => {
                          //  console.log(res);
                            // 生成订单项数据---向订单项表中插入数据
                            axios.post(`/orderItems/insert/${phone}`)
                                .then(res => {
                                   // console.log(res);
                                    // 插入订单项表成功后---清空购物车---删除购物车中数据
                                    axios.delete(`/cartitem/deletebyphone/${phone}`)
                                        .then(res => {
                                            //console.log(res)
                                        })
                                        .catch(err => {
                                           // console.error(err);
                                        })
                                })
                                .catch(err => {
                                   // console.error(err);
                                })
                        })
                        .catch(err => {
                            //console.error(err);
                        });
                    payButton.setAttribute('data-dismiss', 'modal');
                },
                huifu: function () {
                    this.weixin = false;
                    this.zhifubao = false;
                    this.flagbtn1 = false;
                    this.flagbtn2 = false;
                }
            },
            computed: {
                // 该订单总价格
                total: function () {
                    let money = 0;
                    for (let i = 0; i < this.goods.length; i++) {
                        money += this.goods[i].number * this.goods[i].price;
                    }
                    this.totalmoney = money;
                    // 子传父
                    this.$parent.totaldata = this.totalmoney;
                  //  console.log(this.totalmoney);
                   // console.log(this.$parent.totaldata);
                    return money;
                },

            },
        });
        // 奶茶分类的导航栏---定义路由组件
        // 分类1----醇茶
        const navbarlist1 = Vue.component('navbarlist1', {
            props: ['phonenum'],
            data: function () {
                return {
                    flag: false,
                    goodsName: undefined,
                    n: undefined,
                    goods: {
                        name: undefined,
                        number: 1,
                        size: undefined,
                        other: [],
                        suger: undefined,
                        temperature: undefined,
                        totalPrice1: undefined,
                    },
                    // 初始化数据从服务端响应
                    priceList: [],
                    chuncha: [],
                }
            },
            template: `
            <div class="row">
            <div class="col-4 border-danger" v-for="(item, index) in chuncha" :key="index">
            <div class="row" >
                <div class="col-6">
                    <a href="#">
                        <img :src="item.picture" class="img-fluid " alt="">
                    </a>
                </div>
                <div class="col-6" >
                    <span class="badge badge-light mt-3">名称:</span><span
                        class="badge badge-info">{{item.goodsName}}</span><br>
                    <span class="badge badge-light">规格:</span><span class="badge badge-info">{{item.size}}</span><br>
                    <span class="badge badge-light">商品状态:</span><span
                        class="badge badge-info">{{item.category}}</span><br>
                    <span class="badge badge-light">价格:</span><span class="badge badge-info">￥{{item.price}}</span>

                    <button @click=selectModal(index) type="button" class="btn btn-outline-primary mt-4" data-toggle="modal"
                        data-target="#goodsinformation">选规格购买</button>

                    <div id="goodsinformation" class="modal fade" tabindex="-1" role="dialog"
                        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalCenterTitle">(中杯){{goodsName}}</h5>
                                </div>

                                <div class="modal-body">
                                    <div v-if="flag" class="alert alert-danger" role="alert">
                                        请选择糖量或者温度，好嘛！！！
                                     </div>
                                    <form action="post">
                                        <!--规格--单选框-->
                                        <h5>
                                            <span class="badge badge-primary">规格</span>
                                        </h5>
                                        <div class="form-check">
                                            <label class="form-check-label mr-4">
                                                <input type="radio" class="form-check-input " v-model="goods.size" name="size" id="" value="中杯">
                                                中杯
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input type="radio" class="form-check-input" v-model="goods.size" name="size" id="" value="大杯">
                                                大杯
                                            </label>
                                            <label class="form-check-label">
                                                <input type="radio" class="form-check-input" v-model="goods.size" name="size" id="" value="超大杯">
                                                超大杯
                                            </label>
                                        </div>
                                        <hr>
                                        <h5><span class="badge badge-primary">加料</span></h5>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="燕姿"> 燕姿
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="咖啡冻"> 咖啡冻
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="奶霜"> 奶霜
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="珍珠"> 珍珠
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="椰果"> 椰果
                                            </label>
                                        </div>
                                        <hr>
                                        <h5><span class="badge badge-primary">糖量</span></h5>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger"  name="suger" id=""
                                                    value="正常糖"> 正常糖
                                            </label>
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="三分糖"> 三分糖
                                            </label>
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="五分糖"> 五分糖
                                            </label>
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="七分糖"> 七分糖
                                            </label><br>
                                            <label class="form-check-label">
                                                <input class="form-check-input" type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="不额外加糖"> 不额外加糖
                                            </label>
                                        </div>
                                        <hr>
                                        <h5>
                                            <span class="badge badge-primary">温度</span>
                                        </h5>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="去冰">
                                                去冰
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="少冰">
                                                少冰
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="常温">
                                                常温
                                            </label>
                                            <label class="form-check-label">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="加热">
                                                加热
                                            </label>
                                        </div>
                                    </form>
                                    <hr>
                                    <h5 class="text-danger"><span class="badge badge-primary">已选规格：</span>{{goodsName}}-{{goods.size}}-{{goods.other}}-{{goods.suger}}-{{goods.temperature}}</h5>
                                    <hr>
                                    <h4>总计:<span class="text-warning">￥{{calculPrice}}</span></h4>

                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                                    <button id="addtocar" @click="addToCar" type="button" class="btn btn-primary" >加到购物车</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
            `,
            mounted() {
                axios.get('/goods/chuncha')
                    .then(res => {
                        this.chuncha = res.data;
                    })
                    .catch(err => {
                       // console.error(err);
                    });
                axios.get('/priceList')
                    .then(res => {
                        this.priceList = res.data;
                    })
                    .catch(err => {
                       // console.error(err);
                    })
            },
            methods: {
                // 模态框的索引对应
                selectModal: function (n) {
                    this.n = n;
                    let obj = this.chuncha[this.n].goodsName;
                    this.goodsName = obj;
                    this.goods.name = this.goodsName;
                },

                // 实现商品加到购物车
                addToCar: function () {
                    let button = document.querySelector("#addtocar");
                    if (this.goods.suger === undefined || this.goods.temperature === undefined) {
                        this.flag = true;
                    } else {
                        this.flag = false;
                        // 将other数组转换成字符串
                        let othertemp = this.goods.other.toString();
                        // 将所选规格的商品数据加到购物车
                        axios.post('/cartitem', {
                                phone: this.phonenum,
                                others: othertemp,
                                goodsId: this.n,
                                goodsName: this.goods.name,
                                size: this.goods.size,
                                suger: this.goods.suger,
                                temp: this.goods.temperature,
                                number: 1,
                                price: this.goods.totalPrice1
                            })
                            .then(res => {
                              //  console.log(res.data);
                            })
                            .catch(err => {
                               // console.error(err);
                            })
                        button.setAttribute('data-dismiss', 'modal');

                    }
                },

            },
            computed: {
                // 计算商品价格
                calculPrice: {
                    get: function () {
                        let totalPrice = 0;
                        switch (this.goodsName) {
                            case '四季春茶':
                                totalPrice += this.chuncha[0].price;
                                break;
                            case '冻顶乌龙茶':
                                totalPrice += this.chuncha[1].price;
                                break;
                            case '茉莉花茶':
                                totalPrice += this.chuncha[2].price;
                                break;
                            default:
                                break;
                        }
                        switch (this.goods.size) {
                            case '大杯':
                                totalPrice += this.priceList[5].price;
                                break;
                            case '超大杯':
                                totalPrice += this.priceList[6].price;
                                break;
                            default:
                                break;
                        }
                        for (let i = 0; i < this.goods.other.length; i++) {
                            switch (this.goods.other[i]) {
                                case '燕姿':
                                    totalPrice += this.priceList[3].price;
                                    break;
                                case '咖啡冻':
                                    totalPrice += this.priceList[4].price;
                                    break;
                                case '奶霜':
                                    totalPrice += this.priceList[2].price;
                                    break;
                                case '珍珠':
                                    totalPrice += this.priceList[0].price;
                                    break;
                                case '椰果':
                                    totalPrice += this.priceList[1].price;
                                    break;
                                default:
                                    break;
                            }
                        }
                        this.goods.totalPrice1 = totalPrice;
                        return totalPrice;
                    }
                }
            },


        });

        // 分类2----奶茶 
        const navbarlist2 = Vue.component('navbarlist2', {
            props: ['phonenum'],
            data: function () {
                return {
                    flag: false,
                    goodsName: undefined,
                    n: undefined,
                    goods: {
                        name: undefined,
                        number: 1,
                        size: undefined,
                        other: [],
                        suger: undefined,
                        temperature: undefined,
                        totalPrice1: undefined,
                    },
                    priceList: [],
                    naicha: [],
                }
            },
            template: `
            <div class="row">
            <div class="col-4 border-danger" v-for="(item, index) in naicha" :key="index">
            <div class="row">
                <div class="col-6">
                    <a href="#">
                        <img :src="item.picture" class="img-fluid " alt="">
                    </a>
                </div>
                <div class="col-6">
                    <span class="badge badge-light mt-3">名称:</span><span
                        class="badge badge-info">{{item.goodsName}}</span><br>
                    <span class="badge badge-light">规格:</span><span class="badge badge-info">{{item.size}}</span><br>
                    <span class="badge badge-light">商品状态:</span><span
                        class="badge badge-info">{{item.category}}</span><br>
                    <span class="badge badge-light">价格:</span><span class="badge badge-info">￥{{item.price}}</span>

                    <button @click=selectModal(index) type="button" class="btn btn-outline-primary mt-4" data-toggle="modal"
                        data-target="#goodsinformation">选规格购买</button>

                    <div id="goodsinformation" class="modal fade" tabindex="-1" role="dialog"
                        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalCenterTitle">(中杯){{goodsName}}</h5>
                                </div>

                                <div class="modal-body">
                                    <div v-if="flag" class="alert alert-danger" role="alert">
                                        请选择糖量或者温度，好嘛！！！
                                     </div>
                                    <form action="post">
                                        <!--规格--单选框-->
                                        <h5>
                                            <span class="badge badge-primary">规格</span>
                                        </h5>
                                        <div class="form-check">
                                            <label class="form-check-label mr-4">
                                                <input type="radio" class="form-check-input" v-model="goods.size" checked name="size" id="" value="中杯">
                                                中杯
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input type="radio" class="form-check-input" v-model="goods.size" name="size" id="" value="大杯">
                                                大杯
                                            </label>
                                            <label class="form-check-label">
                                                <input type="radio" class="form-check-input" v-model="goods.size" name="size" id="" value="超大杯">
                                                超大杯
                                            </label>
                                        </div>
                                        <hr>
                                        <h5><span class="badge badge-primary">加料</span></h5>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="燕姿"> 燕姿
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="咖啡冻"> 咖啡冻
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="奶霜"> 奶霜
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="珍珠"> 珍珠
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="椰果"> 椰果
                                            </label>
                                        </div>
                                        <hr>
                                        <h5><span class="badge badge-primary">糖量</span></h5>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger"  name="suger" id=""
                                                    value="正常糖"> 正常糖
                                            </label>
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="三分糖"> 三分糖
                                            </label>
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="五分糖"> 五分糖
                                            </label>
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="七分糖"> 七分糖
                                            </label><br>
                                            <label class="form-check-label">
                                                <input class="form-check-input" type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="不额外加糖"> 不额外加糖
                                            </label>
                                        </div>
                                        <hr>
                                        <h5>
                                            <span class="badge badge-primary">温度</span>
                                        </h5>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="去冰">
                                                去冰
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="少冰">
                                                少冰
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="常温">
                                                常温
                                            </label>
                                            <label class="form-check-label">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="加热">
                                                加热
                                            </label>
                                        </div>
                                    </form>
                                    <hr>
                                    <h5 class="text-danger"><span class="badge badge-primary">已选规格：</span>{{goodsName}}-{{goods.size}}-{{goods.other}}-{{goods.suger}}-{{goods.temperature}}</h5>
                                    <hr>
                                    <h4>总计:<span class="text-warning">￥{{calculPrice}}</span></h4>

                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                                    <button id="addtocar" @click="addToCar" type="button" class="btn btn-primary" >加到购物车</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
            `,
            mounted() {
                axios.get('/goods/naicha')
                    .then(res => {
                        this.naicha = res.data;
                    })
                    .catch(err => {
                       // console.error(err);
                    });
                axios.get('/priceList')
                    .then(res => {
                        this.priceList = res.data;
                    })
                    .catch(err => {
                       // console.error(err);
                    })
            },
            methods: {
                // 模态框的索引对应
                selectModal: function (n) {
                    this.n = n;
                    let obj = this.naicha[this.n].goodsName;
                    this.goodsName = obj;
                    this.goods.name = this.goodsName;
                },

                // 实现商品加到购物车
                addToCar: function () {
                    let button = document.querySelector("#addtocar");
                    if (this.goods.suger === undefined || this.goods.temperature === undefined) {
                        this.flag = true;
                    } else {
                        this.flag = false;
                     //   console.log(this.goods);
                        // 将other数组转换成字符串
                        let othertemp = this.goods.other.toString();
                        // 将所选规格的商品数据加到购物车
                        axios.post('/cartitem', {
                                phone: this.phonenum,
                                others: othertemp,
                                goodsId: this.n,
                                goodsName: this.goods.name,
                                size: this.goods.size,
                                suger: this.goods.suger,
                                temp: this.goods.temperature,
                                number: 1,
                                price: this.goods.totalPrice1
                            })
                            .then(res => {
                            //    console.log(res.data);
                            })
                            .catch(err => {
                           //     console.error(err);
                            })
                        button.setAttribute('data-dismiss', 'modal');
                    }
                }
            },
            computed: {
                // 计算商品价格
                calculPrice: {
                    get: function () {
                        let totalPrice = 0;
                        switch (this.goodsName) {
                            case '珍珠奶茶':
                                totalPrice += this.priceList[10].price;
                                break;
                            case '波霸奶茶':
                                totalPrice += this.priceList[11].price;
                                break;
                            case '可可芭蕾':
                                totalPrice += this.priceList[12].price;
                                break;
                            default:
                                break;
                        }
                        switch (this.goods.size) {
                            case '大杯':
                                totalPrice += this.priceList[5].price;
                                break;
                            case '超大杯':
                                totalPrice += this.priceList[6].price;
                                break;
                            default:
                                break;
                        }
                        for (let i = 0; i < this.goods.other.length; i++) {
                            switch (this.goods.other[i]) {
                                case '燕姿':
                                    totalPrice += this.priceList[3].price;
                                    break;
                                case '咖啡冻':
                                    totalPrice += this.priceList[4].price;
                                    break;
                                case '奶霜':
                                    totalPrice += this.priceList[2].price;
                                    break;
                                case '珍珠':
                                    totalPrice += this.priceList[0].price;
                                    break;
                                case '椰果':
                                    totalPrice += this.priceList[1].price;
                                    break;
                                default:
                                    break;
                            }
                        }
                        this.goods.totalPrice1 = totalPrice;
                        return totalPrice;
                    }
                }
            },

        });

        // 分类3----拿铁
        const navbarlist3 = Vue.component('navbarlist3', {
            props: ['phonenum'],
            data: function () {
                return {
                    flag: false,
                    goodsName: undefined,
                    n: undefined,
                    goods: {
                        name: undefined,
                        number: 1,
                        size: undefined,
                        other: [],
                        suger: undefined,
                        temperature: undefined,
                        totalPrice1: undefined,
                    },

                    priceList: [],
                    natie: []
                }
            },
            template: `
            <div class="row">
            <div class="col-4 border-danger" v-for="(item, index) in natie" :key="index">
            <div class="row">
                <div class="col-6">
                    <a href="#">
                        <img :src="item.picture" class="img-fluid " alt="">
                    </a>
                </div>
                <div class="col-6">
                    <span class="badge badge-light mt-3">名称:</span><span
                        class="badge badge-info">{{item.goodsName}}</span><br>
                    <span class="badge badge-light">规格:</span><span class="badge badge-info">{{item.size}}</span><br>
                    <span class="badge badge-light">商品状态:</span><span
                        class="badge badge-info">{{item.category}}</span><br>
                    <span class="badge badge-light">价格:</span><span class="badge badge-info">￥{{item.price}}</span>

                    <button @click=selectModal(index) type="button" class="btn btn-outline-primary mt-4" data-toggle="modal"
                        data-target="#goodsinformation">选规格购买</button>

                    <div id="goodsinformation" class="modal fade" tabindex="-1" role="dialog"
                        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalCenterTitle">(中杯){{goodsName}}</h5>
                                </div>

                                <div class="modal-body">
                                    <div v-if="flag" class="alert alert-danger" role="alert">
                                        请选择糖量或者温度，好嘛！！！
                                     </div>
                                    <form action="post">
                                        <!--规格--单选框-->
                                        <h5>
                                            <span class="badge badge-primary">规格</span>
                                        </h5>
                                        <div class="form-check">
                                            <label class="form-check-label mr-4">
                                                <input type="radio" class="form-check-input" v-model="goods.size" checked name="size" id="" value="中杯">
                                                中杯
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input type="radio" class="form-check-input" v-model="goods.size" name="size" id="" value="大杯">
                                                大杯
                                            </label>
                                            <label class="form-check-label">
                                                <input type="radio" class="form-check-input" v-model="goods.size" name="size" id="" value="超大杯">
                                                超大杯
                                            </label>
                                        </div>
                                        <hr>
                                        <h5><span class="badge badge-primary">加料</span></h5>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="燕姿"> 燕姿
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="咖啡冻"> 咖啡冻
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="奶霜"> 奶霜
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="珍珠"> 珍珠
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="椰果"> 椰果
                                            </label>
                                        </div>
                                        <hr>
                                        <h5><span class="badge badge-primary">糖量</span></h5>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger"  name="suger" id=""
                                                    value="正常糖"> 正常糖
                                            </label>
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="三分糖"> 三分糖
                                            </label>
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="五分糖"> 五分糖
                                            </label>
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="七分糖"> 七分糖
                                            </label><br>
                                            <label class="form-check-label">
                                                <input class="form-check-input" type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="不额外加糖"> 不额外加糖
                                            </label>
                                        </div>
                                        <hr>
                                        <h5>
                                            <span class="badge badge-primary">温度</span>
                                        </h5>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="去冰">
                                                去冰
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="少冰">
                                                少冰
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="常温">
                                                常温
                                            </label>
                                            <label class="form-check-label">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="加热">
                                                加热
                                            </label>
                                        </div>
                                    </form>
                                    <hr>
                                    <h5 class="text-danger"><span class="badge badge-primary">已选规格：</span>{{goodsName}}-{{goods.size}}-{{goods.other}}-{{goods.suger}}-{{goods.temperature}}</h5>
                                    <hr>
                                    <h4>总计:<span class="text-warning">￥{{calculPrice}}</span></h4>

                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                                    <button id="addtocar" @click="addToCar" type="button" class="btn btn-primary" >加到购物车</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
            `,
            mounted() {
                axios.get('/goods/natie')
                    .then(res => {
                        this.natie = res.data;
                    })
                    .catch(err => {
                      //  console.error(err);
                    });
                axios.get('/priceList')
                    .then(res => {
                        this.priceList = res.data;
                    })
                    .catch(err => {
                      //  console.error(err);
                    })
            },
            methods: {
                // 模态框的索引对应
                selectModal: function (n) {
                    this.n = n;
                    let obj = this.natie[this.n].goodsName;
                    this.goodsName = obj;
                    this.goods.name = this.goodsName;
                },

                // 实现商品加到购物车
                addToCar: function () {
                    let button = document.querySelector("#addtocar");
                    if (this.goods.suger === undefined || this.goods.temperature === undefined) {
                        this.flag = true;
                    } else {
                        this.flag = false;
                      //  console.log(this.goods);
                        // 将other数组转换成字符串
                        let othertemp = this.goods.other.toString();
                        // 将所选规格的商品数据加到购物车
                        axios.post('/cartitem', {
                                phone: this.phonenum,
                                others: othertemp,
                                goodsId: this.n,
                                goodsName: this.goods.name,
                                size: this.goods.size,
                                suger: this.goods.suger,
                                temp: this.goods.temperature,
                                number: 1,
                                price: this.goods.totalPrice1
                            })
                            .then(res => {
                               // console.log(res.data);
                            })
                            .catch(err => {
                              //  console.error(err);
                            })
                        button.setAttribute('data-dismiss', 'modal');
                    }
                }
            },
            computed: {
                // 计算商品价格
                calculPrice: {
                    get: function () {
                        let totalPrice = 0;
                        switch (this.goodsName) {
                            case '红茶拿铁':
                                totalPrice += this.priceList[13].price;
                                break;
                            case '红茶玛奇朵':
                                totalPrice += this.priceList[14].price;
                                break;
                            case '波霸红':
                                totalPrice += this.priceList[15].price;
                                break;
                            default:
                                break;
                        }
                        switch (this.goods.size) {
                            case '大杯':
                                totalPrice += this.priceList[5].price;
                                break;
                            case '超大杯':
                                totalPrice += this.priceList[6].price;
                                break;
                            default:
                                break;
                        }
                        for (let i = 0; i < this.goods.other.length; i++) {
                            switch (this.goods.other[i]) {
                                case '燕姿':
                                    totalPrice += this.priceList[3].price;
                                    break;
                                case '咖啡冻':
                                    totalPrice += this.priceList[4].price;
                                    break;
                                case '奶霜':
                                    totalPrice += this.priceList[2].price;
                                    break;
                                case '珍珠':
                                    totalPrice += this.priceList[0].price;
                                    break;
                                case '椰果':
                                    totalPrice += this.priceList[1].price;
                                    break;
                                default:
                                    break;
                            }
                        }
                        this.goods.totalPrice1 = totalPrice;
                        return totalPrice;
                    }
                }
            },

        });

        // 分类4----果汁
        const navbarlist4 = Vue.component('navbarlist4', {
            props: ['phonenum'],
            data: function () {
                return {
                    flag: false,
                    goodsName: undefined,
                    n: undefined,
                    goods: {
                        name: undefined,
                        number: 1,
                        size: undefined,
                        other: [],
                        suger: undefined,
                        temperature: undefined,
                        totalPrice1: undefined,
                    },

                    priceList: [],
                    guozhi: []
                }
            },
            template: `
            <div class="row">
            <div class="col-4 border-danger" v-for="(item, index) in guozhi" :key="index">
            <div class="row">
                <div class="col-6">
                    <a href="#">
                        <img :src="item.picture" class="img-fluid " alt="">
                    </a>
                </div>
                <div class="col-6">
                    <span class="badge badge-light mt-3">名称:</span><span
                        class="badge badge-info">{{item.goodsName}}</span><br>
                    <span class="badge badge-light">规格:</span><span class="badge badge-info">{{item.size}}</span><br>
                    <span class="badge badge-light">商品状态:</span><span
                        class="badge badge-info">{{item.category}}</span><br>
                    <span class="badge badge-light">价格:</span><span class="badge badge-info">￥{{item.price}}</span>

                    <button @click=selectModal(index) type="button" class="btn btn-outline-primary mt-4" data-toggle="modal"
                        data-target="#goodsinformation">选规格购买</button>

                    <div id="goodsinformation" class="modal fade" tabindex="-1" role="dialog"
                        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalCenterTitle">(中杯){{goodsName}}</h5>
                                </div>

                                <div class="modal-body">
                                    <div v-if="flag" class="alert alert-danger" role="alert">
                                        请选择糖量或者温度，好嘛！！！
                                     </div>
                                    <form action="post">
                                        <!--规格--单选框-->
                                        <h5>
                                            <span class="badge badge-primary">规格</span>
                                        </h5>
                                        <div class="form-check">
                                            <label class="form-check-label mr-4">
                                                <input type="radio" class="form-check-input" v-model="goods.size" checked name="size" id="" value="中杯">
                                                中杯
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input type="radio" class="form-check-input" v-model="goods.size" name="size" id="" value="大杯">
                                                大杯
                                            </label>
                                            <label class="form-check-label">
                                                <input type="radio" class="form-check-input" v-model="goods.size" name="size" id="" value="超大杯">
                                                超大杯
                                            </label>
                                        </div>
                                        <hr>
                                        <h5><span class="badge badge-primary">加料</span></h5>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="燕姿"> 燕姿
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="咖啡冻"> 咖啡冻
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="奶霜"> 奶霜
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="珍珠"> 珍珠
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="checkbox" v-model="goods.other" name="" id=""
                                                    value="椰果"> 椰果
                                            </label>
                                        </div>
                                        <hr>
                                        <h5><span class="badge badge-primary">糖量</span></h5>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger"  name="suger" id=""
                                                    value="正常糖"> 正常糖
                                            </label>
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="三分糖"> 三分糖
                                            </label>
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="五分糖"> 五分糖
                                            </label>
                                            <label class="form-check-label mr-3">
                                                <input class="form-check-input " type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="七分糖"> 七分糖
                                            </label><br>
                                            <label class="form-check-label">
                                                <input class="form-check-input" type="radio" v-model="goods.suger" name="suger" id=""
                                                    value="不额外加糖"> 不额外加糖
                                            </label>
                                        </div>
                                        <hr>
                                        <h5>
                                            <span class="badge badge-primary">温度</span>
                                        </h5>
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="去冰">
                                                去冰
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="少冰">
                                                少冰
                                            </label>
                                            <label class="form-check-label mr-4">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="常温">
                                                常温
                                            </label>
                                            <label class="form-check-label">
                                                <input class="form-check-input" type="radio" v-model="goods.temperature" name="temp" id="" value="加热">
                                                加热
                                            </label>
                                        </div>
                                    </form>
                                    <hr>
                                    <h5 class="text-danger"><span class="badge badge-primary">已选规格：</span>{{goodsName}}-{{goods.size}}-{{goods.other}}-{{goods.suger}}-{{goods.temperature}}</h5>
                                    <hr>
                                    <h4>总计:<span class="text-warning">￥{{calculPrice}}</span></h4>

                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                                    <button id="addtocar" @click="addToCar" type="button" class="btn btn-primary" >加到购物车</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
            `,
            mounted() {
                axios.get('/goods/guozhi')
                    .then(res => {
                        this.guozhi = res.data;
                    })
                    .catch(err => {
                        //console.error(err);
                    });
                axios.get('/priceList')
                    .then(res => {
                        this.priceList = res.data;
                    })
                    .catch(err => {
                        //console.error(err);
                    })
            },
            methods: {
                // 模态框的索引对应
                selectModal: function (n) {
                    this.n = n;
                    let obj = this.guozhi[this.n].goodsName;
                    this.goodsName = obj;
                    this.goods.name = this.goodsName;
                },

                // 实现商品加到购物车
                addToCar: function () {
                    let button = document.querySelector("#addtocar");
                    if (this.goods.suger === undefined || this.goods.temperature === undefined) {
                        this.flag = true;
                    } else {
                        this.flag = false;
                       // console.log(this.goods);
                        // 将other数组转换成字符串
                        let othertemp = this.goods.other.toString();
                        // 将所选规格的商品数据加到购物车
                        axios.post('/cartitem', {
                                phone: this.phonenum,
                                others: othertemp,
                                goodsId: this.n,
                                goodsName: this.goods.name,
                                size: this.goods.size,
                                suger: this.goods.suger,
                                temp: this.goods.temperature,
                                number: 1,
                                price: this.goods.totalPrice1
                            })
                            .then(res => {
                              //  console.log(res.data);
                            })
                            .catch(err => {
                               //console.error(err);
                            })
                        button.setAttribute('data-dismiss', 'modal');
                    }
                }
            },
            computed: {
                // 计算商品价格
                calculPrice: {
                    get: function () {
                        let totalPrice = 0;
                        switch (this.goodsName) {
                            case '柠檬汁':
                                totalPrice += this.priceList[16].price;
                                break;
                            case '冰缘':
                                totalPrice += this.priceList[17].price;
                                break;
                            case '蜂蜜柚子茶':
                                totalPrice += this.priceList[9].price;
                                break;
                            default:
                                break;
                        }
                        switch (this.goods.size) {
                            case '大杯':
                                totalPrice += this.priceList[5].price;
                                break;
                            case '超大杯':
                                totalPrice += this.priceList[6].price;
                                break;
                            default:
                                break;
                        }
                        for (let i = 0; i < this.goods.other.length; i++) {
                            switch (this.goods.other[i]) {
                                case '燕姿':
                                    totalPrice += this.priceList[3].price;
                                    break;
                                case '咖啡冻':
                                    totalPrice += this.priceList[4].price;
                                    break;
                                case '奶霜':
                                    totalPrice += this.priceList[2].price;
                                    break;
                                case '珍珠':
                                    totalPrice += this.priceList[0].price;
                                    break;
                                case '椰果':
                                    totalPrice += this.priceList[1].price;
                                    break;
                                default:
                                    break;
                            }
                        }
                        this.goods.totalPrice1 = totalPrice;
                        return totalPrice;
                    }
                }
            },


        });

        // 定义路由数组, 每个路由映射一个组件
        const routes = [{
                path: '/goods/chuncha',
                component: navbarlist1,
            },
            {
                path: '/goods/naicha',
                component: navbarlist2,
            },
            {
                path: '/goods/natie',
                component: navbarlist3,
            },
            {
                path: '/goods/guozhi',
                component: navbarlist4,
            }

        ];

        // 创建router实例，然后传`routes`配置
        const router = new VueRouter({
            routes: routes
        });

        // 创建和挂载根实例
        new Vue({
            el: '#app',
            router: router,
        });
    </script>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="js/jquery-3.3.1.slim.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
</body>

</html>